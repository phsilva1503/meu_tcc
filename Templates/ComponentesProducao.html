<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Componentes da Produção</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">

  <div class="container mx-auto mt-8 p-4">
    <!-- Botão de voltar -->
    <a href="{{ url_for('controle_producao') }}" 
       class="inline-block mb-4 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
       Voltar
    </a>

    <!-- Card da Produção -->
    <div class="bg-white shadow-md rounded-lg p-6">
      <h2 class="text-lg font-semibold mb-4 text-blue-600">
        Produção {{ producao.producao_id }} (ID: {{ producao.id }})
      </h2>

      <!-- Informações da Produção -->
      <p class="mb-2">
        Data: <strong>{{ producao.data_producao.strftime('%d/%m/%Y') }}</strong> | 
        Densidade: <strong>{{ producao.densidade_real }}</strong> kg/m³ | 
        Altura: <strong>{{ producao.altura }}</strong> cm | 
        Conformidade: <strong>{{ producao.conformidade }}</strong>
      </p>
      <p class="mb-4">
        Observações: <strong>{{ producao.observacoes or '-' }}</strong>
      </p>

      <!-- Tabela de Componentes -->
      <div class="overflow-x-auto">
        <table class="min-w-full border border-gray-200 rounded-lg">
          <thead class="bg-gray-100">
            <tr>
              <th class="px-4 py-2 text-left">ID Componente</th>
              <th class="px-4 py-2 text-left">Componente</th>
              <th class="px-4 py-2 text-left">Quantidade Usadas</th>
            </tr>
          </thead>
          <tbody>
            {% for cp in componentes if cp.quantidade_usada > 0 %}
              <tr class="border-t">
                <td class="px-4 py-2">{{ cp.componente.id }}</td>
                <td class="px-4 py-2">{{ cp.componente.nome }}</td>
                <td class="px-4 py-2">{{ cp.quantidade_usada }}</td>
               
              </tr>
            {% else %}
              <tr>
                <td colspan="2" class="px-4 py-2 text-center text-gray-500">
                  Nenhum componente utilizado nesta produção.
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

</body>
</html>
